{"ast":null,"code":"var _jsxFileName = \"/Users/sunwoong/Desktop/onegun/project/kiosk/kioskreact/client/src/components/Navbar/Navbar.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { Navbar, Button, Form, Nav, FormControl, Badge, Modal, Table } from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport Axios from \"axios\";\nimport \"./Navbar.css\";\nimport SideDrawer from \"../SideDrawer/SideDrawer\";\nimport Backdrop from \"../Backdrop/Backdrop\";\nimport * as actionTypes from \"../../store/actions\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst navbar = props => {\n  _s();\n  const [sideDrawerOpen, setSideDrawer] = useState(false);\n  const drawerToggleClickHandler = () => {\n    setSideDrawer(!sideDrawerOpen);\n  };\n  const backdropClickHandler = () => {\n    setSideDrawer(false);\n  };\n  let backdrop;\n  if (sideDrawerOpen) {\n    backdrop = /*#__PURE__*/_jsxDEV(Backdrop, {\n      click: backdropClickHandler\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 16\n    }, this);\n  }\n\n  // Modal Summary\n  const [show, setShow] = useState(false);\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  // Retrieving current order summary from database\n  const [orders, setOrders] = useState([]);\n  useEffect(() => {\n    Axios.get(\"http://localhost:3001/api/retrieve-current-order\").then(response => {\n      setOrders(response.data);\n    });\n  }, []);\n  console.log(\"====================================\");\n  console.log(\"orders\", orders);\n  console.log(\"====================================\");\n  let currentOrder = () => {\n    orders.map((val, index) => {\n      return /*#__PURE__*/_jsxDEV(\"tr\", {\n        children: [/*#__PURE__*/_jsxDEV(\"td\", {\n          children: val.prod_name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 61,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [\"$\", val.prod_price]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 62,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n          children: [\"x \", val.prod_quantity]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 63,\n          columnNumber: 11\n        }, this)]\n      }, index, true, {\n        fileName: _jsxFileName,\n        lineNumber: 60,\n        columnNumber: 9\n      }, this);\n    });\n  };\n\n  // Total Price\n  let totalAmount = 0;\n  if (orders) {\n    orders.map(item => {\n      totalAmount += item.prod_price * item.prod_quantity;\n    });\n  }\n  return /*#__PURE__*/_jsxDEV(React.Fragment, {\n    children: [/*#__PURE__*/_jsxDEV(Navbar, {\n      variant: \"light\",\n      className: \"navbar\",\n      children: [/*#__PURE__*/_jsxDEV(Form, {\n        inline: \"true\",\n        children: /*#__PURE__*/_jsxDEV(FormControl, {\n          type: \"text\",\n          placeholder: \"Search\",\n          style: {\n            width: \"60em\"\n          },\n          className: \"input-search\",\n          onChange: props.onSearchHandler,\n          value: props.searchInputValue\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 81,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 80,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Nav, {\n        className: \"ml-auto\",\n        children: [/*#__PURE__*/_jsxDEV(Button, {\n          variant: \"light\",\n          className: \"d-inline ml-3 btn\",\n          children: \"Make Payment\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"light\",\n          className: \"d-inline ml-3 btn\",\n          onClick: handleShow,\n          children: \"Receipt\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(Button, {\n          variant: \"light\",\n          className: \"d-inline ml-3 btn\",\n          onClick: drawerToggleClickHandler,\n          children: [\"Orders\", /*#__PURE__*/_jsxDEV(Badge, {\n            variant: \"primary\",\n            className: \"ml-2\",\n            children: props.data.length\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 107,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 79,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SideDrawer, {\n      show: sideDrawerOpen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 7\n    }, this), backdrop, /*#__PURE__*/_jsxDEV(Modal, {\n      show: show,\n      onHide: handleClose,\n      centered: true,\n      children: [/*#__PURE__*/_jsxDEV(Modal.Header, {\n        closeButton: true,\n        children: /*#__PURE__*/_jsxDEV(Modal.Title, {\n          children: \"Order Summary\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 118,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 117,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Body, {\n        children: /*#__PURE__*/_jsxDEV(Table, {\n          borderless: true,\n          hover: true,\n          size: \"sm\",\n          children: /*#__PURE__*/_jsxDEV(\"tbody\", {\n            children: orders ? orders.map((val, index) => {\n              return /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  children: val.prod_name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 127,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [\"$\", val.prod_price]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 128,\n                  columnNumber: 25\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  children: [\"x \", val.prod_quantity]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 129,\n                  columnNumber: 25\n                }, this)]\n              }, index, true, {\n                fileName: _jsxFileName,\n                lineNumber: 126,\n                columnNumber: 23\n              }, this);\n            }) : null\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 122,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 121,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Modal.Footer, {\n        children: /*#__PURE__*/_jsxDEV(\"h6\", {\n          className: \"float-right\",\n          children: [\"Total: $\", totalAmount.toFixed(2)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 138,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 116,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 78,\n    columnNumber: 5\n  }, this);\n};\n\n// STORE\n_s(navbar, \"/TT3d6bLNEZGQ72eEz2ubsXRaL4=\");\nconst mapStateToProps = global_state => {\n  return {\n    data: global_state.selectedItems,\n    searchInputValue: global_state.searchInputValue\n  };\n};\n\n// ACTION\nconst mapDispatchToProps = dispatch => {\n  return {\n    onSearchHandler: event => dispatch({\n      type: actionTypes.SEARCH_PRODUCT_LISTING,\n      event: event\n    })\n  };\n};\nexport default connect(mapStateToProps, mapDispatchToProps)(navbar);","map":{"version":3,"names":["React","useState","useEffect","Navbar","Button","Form","Nav","FormControl","Badge","Modal","Table","connect","Axios","SideDrawer","Backdrop","actionTypes","navbar","props","sideDrawerOpen","setSideDrawer","drawerToggleClickHandler","backdropClickHandler","backdrop","show","setShow","handleClose","handleShow","orders","setOrders","get","then","response","data","console","log","currentOrder","map","val","index","prod_name","prod_price","prod_quantity","totalAmount","item","width","onSearchHandler","searchInputValue","length","toFixed","mapStateToProps","global_state","selectedItems","mapDispatchToProps","dispatch","event","type","SEARCH_PRODUCT_LISTING"],"sources":["/Users/sunwoong/Desktop/onegun/project/kiosk/kioskreact/client/src/components/Navbar/Navbar.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport {\n  Navbar,\n  Button,\n  Form,\n  Nav,\n  FormControl,\n  Badge,\n  Modal,\n  Table,\n} from \"react-bootstrap\";\nimport { connect } from \"react-redux\";\nimport Axios from \"axios\";\n\nimport \"./Navbar.css\";\nimport SideDrawer from \"../SideDrawer/SideDrawer\";\nimport Backdrop from \"../Backdrop/Backdrop\";\nimport * as actionTypes from \"../../store/actions\";\n\nconst navbar = (props) => {\n  const [sideDrawerOpen, setSideDrawer] = useState(false);\n\n  const drawerToggleClickHandler = () => {\n    setSideDrawer(!sideDrawerOpen);\n  };\n\n  const backdropClickHandler = () => {\n    setSideDrawer(false);\n  };\n\n  let backdrop;\n\n  if (sideDrawerOpen) {\n    backdrop = <Backdrop click={backdropClickHandler} />;\n  }\n\n  // Modal Summary\n  const [show, setShow] = useState(false);\n\n  const handleClose = () => setShow(false);\n  const handleShow = () => setShow(true);\n\n  // Retrieving current order summary from database\n  const [orders, setOrders] = useState([]);\n\n  useEffect(() => {\n    Axios.get(\"http://localhost:3001/api/retrieve-current-order\").then(\n      (response) => {\n        setOrders(response.data);\n      }\n    );\n  }, []);\n  console.log(\"====================================\");\n  console.log(\"orders\", orders);\n  console.log(\"====================================\");\n\n  let currentOrder = () => {\n    orders.map((val, index) => {\n      return (\n        <tr key={index}>\n          <td>{val.prod_name}</td>\n          <td>${val.prod_price}</td>\n          <td>x {val.prod_quantity}</td>\n        </tr>\n      );\n    });\n  };\n\n  // Total Price\n  let totalAmount = 0;\n  if (orders) {\n    orders.map((item) => {\n      totalAmount += item.prod_price * item.prod_quantity;\n    });\n  }\n\n  return (\n    <React.Fragment>\n      <Navbar variant=\"light\" className=\"navbar\">\n        <Form inline=\"true\">\n          <FormControl\n            type=\"text\"\n            placeholder=\"Search\"\n            style={{ width: \"60em\" }}\n            className=\"input-search\"\n            onChange={props.onSearchHandler}\n            value={props.searchInputValue}\n          />\n        </Form>\n        <Nav className=\"ml-auto\">\n          <Button variant=\"light\" className=\"d-inline ml-3 btn\">\n            Make Payment\n          </Button>\n          <Button\n            variant=\"light\"\n            className=\"d-inline ml-3 btn\"\n            onClick={handleShow}\n          >\n            Receipt\n          </Button>\n          <Button\n            variant=\"light\"\n            className=\"d-inline ml-3 btn\"\n            onClick={drawerToggleClickHandler}\n          >\n            Orders\n            <Badge variant=\"primary\" className=\"ml-2\">\n              {props.data.length}\n            </Badge>\n          </Button>\n        </Nav>\n      </Navbar>\n      <SideDrawer show={sideDrawerOpen} />\n      {backdrop}\n\n      <Modal show={show} onHide={handleClose} centered>\n        <Modal.Header closeButton>\n          <Modal.Title>Order Summary</Modal.Title>\n        </Modal.Header>\n        <Modal.Body>\n          <Table borderless hover size=\"sm\">\n            <tbody>\n              {orders\n                ? orders.map((val, index) => {\n                    return (\n                      <tr key={index}>\n                        <td>{val.prod_name}</td>\n                        <td>${val.prod_price}</td>\n                        <td>x {val.prod_quantity}</td>\n                      </tr>\n                    );\n                  })\n                : null}\n            </tbody>\n          </Table>\n        </Modal.Body>\n        <Modal.Footer>\n          <h6 className=\"float-right\">Total: ${totalAmount.toFixed(2)}</h6>\n        </Modal.Footer>\n      </Modal>\n    </React.Fragment>\n  );\n};\n\n// STORE\nconst mapStateToProps = (global_state) => {\n  return {\n    data: global_state.selectedItems,\n    searchInputValue: global_state.searchInputValue,\n  };\n};\n\n// ACTION\nconst mapDispatchToProps = (dispatch) => {\n  return {\n    onSearchHandler: (event) =>\n      dispatch({ type: actionTypes.SEARCH_PRODUCT_LISTING, event: event }),\n  };\n};\n\nexport default connect(mapStateToProps, mapDispatchToProps)(navbar);\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}